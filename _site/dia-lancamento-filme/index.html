<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Data de lançamento de um filme &middot; Projeto - Visualização de Dados
    
  </title>

  
  <link rel="canonical" href="/https://felipelrib.github.io/ProjetoVD/dia-lancamento-filme/">
  

  <link rel="stylesheet" href="/https://felipelrib.github.io/ProjetoVD/public/css/poole.css">
  <link rel="stylesheet" href="/https://felipelrib.github.io/ProjetoVD/public/css/syntax.css">
  <link rel="stylesheet" href="/https://felipelrib.github.io/ProjetoVD/public/css/lanyon.css">
  <link rel="stylesheet" href="/https://felipelrib.github.io/ProjetoVD/public/css/project.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/https://felipelrib.github.io/ProjetoVD/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/https://felipelrib.github.io/ProjetoVD/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/https://felipelrib.github.io/ProjetoVD/atom.xml">

  
</head>


  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>Página para o projeto final da disciplina de Visualização de Dados</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/https://felipelrib.github.io/ProjetoVD/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
    
      
        
          <a class="sidebar-nav-item active" href="/https://felipelrib.github.io/ProjetoVD/dia-lancamento-filme/">Data de lançamento de um filme</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/https://felipelrib.github.io/ProjetoVD/produtoras-melhor-avaliadas/">Produtoras melhor avaliadas</a>
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2021. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="https://felipelrib.github.io/ProjetoVD/" title="Home">Projeto - Visualização de Dados</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <script src="https://code.highcharts.com/highcharts.js"></script>
<script type="text/javascript">
  window.filters = {};

  function loadMoviesData() {
    return new Promise((resolve, reject) => {
      const pageContentElement = document.getElementById("page-content");
      const loadingContainerElement = document.getElementById("loading-container");
      const pageContentPreviousDisplay = pageContentElement.style.display
      const loadingContainerPreviousDisplay = loadingContainerElement.style.display
      pageContentElement.style.display = "none";
      loadingContainerElement.style.display = loadingContainerPreviousDisplay;
      fetch("https://dl.dropbox.com/s/7y9nhd8nwzl96or/movies_metadata.json").then(response => response.json()).then(data => {
        pageContentElement.style.display = pageContentPreviousDisplay;
        loadingContainerElement.style.display = "none";
        window.moviesData = data;
        resolve();
      });
    });
  }

  function addListener(inputName, callback) {
    input = document.querySelector(`input[name=${inputName}]`);
    timeoutEvent = null;
    input.addEventListener('change', event => {
      if (timeoutEvent) {
        clearTimeout(timeoutEvent);
      }
      timeoutEvent = setTimeout(_ => {
        if (!event.target.value) {
          delete window.filters[inputName];
        } else {
          if (input.type === "number") {
            window.filters[inputName] = parseFloat(event.target.value);
          } else {
            window.filters[inputName] = event.target.value;
          }
        }
        timeoutEvent = null;
        callback();
      }, 250);
    });
  }
</script>
<div class="page">
  <h1 class="page-title">Data de lançamento de um filme</h1>
  <div id="loading-container">
    <div class="loader"></div>
    <div>Carregando visualização. Por favor, aguarde...</div>
  </div>
  <div id="page-content">
    <script type="text/javascript">
    function updateGraph() {
        const chartData = moviesData.reduce((chartData, row) => {
            if (row.release_date) {
                const releaseDate = new Date(row.release_date);
                if (releaseDate instanceof Date && isFinite(releaseDate)) {
                    // Tries to fix a problem due to the date being created in UTC timezone.
                    releaseDate.setHours(releaseDate.getHours() + 12);
                    if ((!filters.startYear || releaseDate.getFullYear() >= filters.startYear) && (!filters.endYear || releaseDate.getFullYear() <= filters.endYear)) {
                        chartData[releaseDate.getDay()][1]++;
                    }
                }
            }
            return chartData;
            }, [
            ["Domingo", 0],
            ["Segunda", 0],
            ["Terça", 0],
            ["Quarta", 0],
            ["Quinta", 0],
            ["Sexta", 0],
            ["Sábado", 0]
        ]);
        const totalValidDates = chartData.reduce((sum, day) => sum + day[1], 0);
        // Get the percentage of each day.
        chartData.forEach(day => day[1] = day[1] * 100 / totalValidDates);

        Highcharts.chart('container', {
            chart: {
                type: 'column'
            },
            title: {
                text: 'Dia do lançamento de um filme'
            },
            xAxis: {
                type: 'category',
                labels: {
                    style: {
                        fontSize: '13px',
                        fontFamily: 'Verdana, sans-serif'
                    }
                }
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Lançamentos no dia (%)'
                }
            },
            legend: {
                enabled: false
            },
            tooltip: {
                pointFormat: '{series.name}: <b>{point.y:.1f}%</b>'
            },
            credits: {
                enabled: false
            },
            series: [{
                name: 'Porcentagem de filmes lançados no dia',
                data: chartData,
                dataLabels: {
                    enabled: true,
                    rotation: -90,
                    color: '#FFFFFF',
                    align: 'right',
                    format: '{point.y:.1f}', // one decimal
                    y: 10, // 10 pixels down from the top
                    style: {
                        fontSize: '13px',
                        fontFamily: 'Verdana, sans-serif'
                    }
                }
            }]
        });
    }

    function validateInputChange() {
        function reportError(inputName, errorMessage) {
            let input = document.querySelector(`input[name=${inputName}]`);
            input.setCustomValidity(errorMessage);
            input.reportValidity();
        }

        if (filters.startYear && isNaN(filters.startYear)) {
            reportError("startYear", "Por favor, insira um número válido.");
        } else if (filters.endYear && isNaN(filters.endYear)) {
            reportError("endYear", "Por favor, insira um número válido.");
        } else if (filters.startYear && filters.endYear && filters.startYear > filters.endYear) {
            reportError("startYear", "O ano inicial não pode ser maior que o ano final.");
        } else {
            updateGraph();
        }
    }

    loadMoviesData().then(_ => {
        updateGraph();
        addListener("startYear", validateInputChange);
        addListener("endYear", validateInputChange);
    });
</script>

<p><label for="startYear">Ano de lançamento inicial:</label>
<input type="number" id="startYear" name="startYear" value="1874" />
<br />
<label for="endYear">Ano de lançamento final:</label>
<input type="number" id="endYear" name="endYear" value="2020" /></p>
<div id="container"></div>
<p class="message">
Verificamos, então, que o dia mais comum para lançamentos de filmes no mundo é na sexta-feira. Outro fato interessante é que o segundo e o terceiro dias são, respectivamente, quinta-feira e quarta-feira, indicando uma tendência ao lançamento em dias entre o meio e o final da semana útil, embora pudesse ser imaginado intuitivamente que os filmes seriam lançados mais frequentemente no final de semana, fora de dias úteis.
</p>

  </div>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script src='https://felipelrib.github.io/ProjetoVD/public/js/script.js'></script>
  </body>
</html>
